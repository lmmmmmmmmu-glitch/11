<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>çº¯ç‚¹å¯¹ç‚¹å¼‚åœ°èŠå¤©ï¼ˆ100%å¯ç”¨ï¼‰</title>
    <link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --white: #fff;
            --gray-100: #f8f9fa;
            --gray-200: #e9ecef;
            --gray-300: #dee2e6;
            --gray-600: #6c757d;
            --gray-900: #212529;
            --blue-500: #0d6efd;
            --blue-600: #0a58ca;
            --green-500: #198754;
            --red-500: #dc3545;
            --yellow-500: #ffc107;
            --radius: 8px;
            --gap: 12px;
            --pad: 15px;
            --shadow: 0 1px 3px rgba(0,0,0,0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
        }

        body {
            background: var(--gray-100);
            min-height: 100vh;
            padding: 10px;
        }

        .container {
            max-width: 950px;
            margin: 0 auto;
            background: var(--white);
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            overflow: hidden;
            height: calc(100vh - 20px);
            display: flex;
            flex-direction: column;
        }

        .header {
            padding: var(--pad);
            background: var(--blue-500);
            color: var(--white);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .title {
            font-size: 18px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .status {
            font-size: 13px;
            padding: 4px 10px;
            border-radius: 20px;
            background: rgba(255,255,255,0.2);
        }

        .setup {
            padding: var(--pad);
            border-bottom: 1px solid var(--gray-200);
            display: flex;
            flex-wrap: wrap;
            gap: var(--gap);
            align-items: center;
        }

        .input-wrap {
            flex: 1;
            min-width: 250px;
        }

        .label {
            font-size: 12px;
            color: var(--gray-600);
            margin-bottom: 6px;
            display: block;
            font-weight: 500;
        }

        .input, .textarea {
            width: 100%;
            padding: 10px 12px;
            border: 1px solid var(--gray-300);
            border-radius: var(--radius);
            outline: none;
            font-size: 14px;
            transition: border 0.2s;
        }

        .input:focus, .textarea:focus {
            border-color: var(--blue-500);
        }

        .textarea {
            min-height: 80px;
            resize: none;
            font-family: monospace;
        }

        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: var(--radius);
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: background 0.2s;
            white-space: nowrap;
        }

        .btn-blue {
            background: var(--blue-500);
            color: var(--white);
        }

        .btn-blue:hover {
            background: var(--blue-600);
        }

        .btn-green {
            background: var(--green-500);
            color: var(--white);
        }

        .btn-green:disabled {
            background: var(--gray-300);
            cursor: not-allowed;
        }

        .btn-red {
            background: var(--red-500);
            color: var(--white);
        }

        .chat-area {
            flex: 1;
            padding: var(--pad);
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .messages {
            flex: 1;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-bottom: var(--gap);
        }

        .messages::-webkit-scrollbar {
            width: 5px;
        }

        .messages::-webkit-scrollbar-thumb {
            background: var(--gray-300);
            border-radius: 5px;
        }

        .msg {
            max-width: 80%;
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .msg-self {
            align-self: flex-end;
        }

        .msg-other {
            align-self: flex-start;
        }

        .msg-content {
            padding: 12px 16px;
            border-radius: var(--radius);
            font-size: 14px;
            line-height: 1.6;
        }

        .msg-self .msg-content {
            background: var(--blue-500);
            color: var(--white);
            border-bottom-right-radius: 4px;
        }

        .msg-other .msg-content {
            background: var(--gray-100);
            border-bottom-left-radius: 4px;
        }

        .msg-time {
            font-size: 11px;
            color: var(--gray-600);
            align-self: flex-end;
        }

        .msg-other .msg-time {
            align-self: flex-start;
        }

        .media {
            max-width: 250px;
            border-radius: var(--radius);
            overflow: hidden;
            border: 1px solid var(--gray-200);
        }

        .media-img, .media-video {
            width: 100%;
            height: auto;
            display: block;
        }

        .media-video {
            max-height: 320px;
            object-fit: cover;
        }

        .input-bar {
            display: flex;
            gap: 10px;
            align-items: center;
            border-top: 1px solid var(--gray-200);
            padding-top: var(--pad);
        }

        .file-input {
            display: none;
        }

        .icon-btn {
            font-size: 20px;
            color: var(--gray-600);
            cursor: pointer;
            padding: 8px;
            border-radius: var(--radius);
            transition: all 0.2s;
        }

        .icon-btn:hover {
            color: var(--blue-500);
            background: var(--gray-100);
        }

        .chat-input {
            flex: 1;
            padding: 10px 12px;
            border: 1px solid var(--gray-300);
            border-radius: var(--radius);
            outline: none;
            font-size: 14px;
            resize: none;
            height: 42px;
            max-height: 120px;
            overflow-y: auto;
        }

        .chat-input:focus {
            border-color: var(--blue-500);
        }

        .send-btn {
            width: 42px;
            height: 42px;
            padding: 0;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .call-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 99;
            display: none;
        }

        .call-modal.show {
            display: flex;
        }

        .call-card {
            background: var(--white);
            border-radius: var(--radius);
            padding: 25px;
            min-width: 280px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            box-shadow: var(--shadow);
        }

        .call-title {
            font-size: 17px;
            font-weight: 600;
            color: var(--gray-900);
        }

        /* å“åº”å¼ */
        @media (max-width: 768px) {
            .container {
                height: 100vh;
                border-radius: 0;
                box-shadow: none;
            }

            .setup {
                flex-direction: column;
                align-items: stretch;
            }

            .msg {
                max-width: 88%;
            }

            .media {
                max-width: 200px;
            }
        }

        @media (max-width: 450px) {
            .header {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }

            .pad {
                padding: 10px;
            }

            .btn {
                padding: 10px 15px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- å¤´éƒ¨ -->
        <div class="header">
            <div class="title">
                <i class="fas fa-handshake"></i> çº¯ç‚¹å¯¹ç‚¹å¼‚åœ°èŠå¤©
            </div>
            <div class="status" id="status">æœªå»ºç«‹è¿æ¥</div>
        </div>

        <!-- æ ¸å¿ƒé…ç½®åŒºï¼šç”Ÿæˆ/ç²˜è´´é‚€è¯·ç  -->
        <div class="setup">
            <div class="input-wrap">
                <label class="label">ğŸ‘‰ æ–¹å¼1ï¼šç”Ÿæˆé‚€è¯·ç ï¼ˆä½ ä½œä¸ºå‘èµ·æ–¹ï¼‰</label>
                <button class="btn btn-blue" onclick="generateOffer()">
                    <i class="fas fa-qrcode"></i> ç”Ÿæˆé‚€è¯·ç 
                </button>
            </div>
            <div class="input-wrap">
                <label class="label">ğŸ‘‰ æ–¹å¼2ï¼šç²˜è´´å¯¹æ–¹çš„é‚€è¯·ç ï¼ˆä½ ä½œä¸ºæ¥æ”¶æ–¹ï¼‰</label>
                <textarea class="textarea" id="offerInput" placeholder="æŠŠå¯¹æ–¹å‘ä½ çš„é‚€è¯·ç ç²˜è´´åˆ°è¿™é‡Œï¼Œç„¶åç‚¹å‡»ã€ŒåŠ å…¥è¿æ¥ã€"></textarea>
            </div>
            <div style="display: flex; gap: 10px;">
                <button class="btn btn-green" onclick="answerOffer()">
                    <i class="fas fa-sign-in"></i> åŠ å…¥è¿æ¥
                </button>
                <button class="btn btn-red" onclick="resetAll()">
                    <i class="fas fa-refresh"></i> é‡ç½®
                </button>
                <button class="btn btn-green" id="callBtn" disabled onclick="startCall()">
                    <i class="fas fa-phone"></i> é€šè¯
                </button>
            </div>
        </div>

        <!-- èŠå¤©åŒºåŸŸ -->
        <div class="chat-area">
            <div class="messages" id="messages"></div>

            <!-- è¾“å…¥æ  -->
            <div class="input-bar">
                <label for="filePicker" class="icon-btn">
                    <i class="fas fa-paperclip"></i>
                </label>
                <input type="file" id="filePicker" class="file-input" accept="image/*,video/*">
                <textarea class="chat-input" id="msgInput" placeholder="å›è½¦å‘é€ï¼ŒShift+å›è½¦æ¢è¡Œ" onkeydown="if(event.keyCode===13&&!event.shiftKey){sendMessage();event.preventDefault();}"></textarea>
                <button class="btn btn-blue send-btn" onclick="sendMessage()">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>
        </div>
    </div>

    <!-- é€šè¯å¼¹çª— -->
    <div class="call-modal" id="callModal">
        <div class="call-card">
            <div class="call-title">æ­£åœ¨é€šè¯ä¸­</div>
            <button class="btn btn-red" onclick="endCall()">
                <i class="fas fa-phone-slash"></i> æŒ‚æ–­é€šè¯
            </button>
        </div>
    </div>

    <!-- é‚€è¯·ç å¼¹çª— -->
    <div class="call-modal" id="offerModal">
        <div class="call-card">
            <div class="call-title">ä½ çš„é‚€è¯·ç ï¼ˆå‘ç»™å¯¹æ–¹ï¼‰</div>
            <textarea class="textarea" id="offerCode" style="min-height: 120px; font-size: 12px;"></textarea>
            <button class="btn btn-blue" onclick="copyOffer()">
                <i class="fas fa-copy"></i> å¤åˆ¶é‚€è¯·ç 
            </button>
        </div>
    </div>

    <script>
        /**************************
         * æ ¸å¿ƒé…ç½®ï¼šçº¯ç‚¹å¯¹ç‚¹ï¼Œæ— ä»»ä½•æœåŠ¡å™¨
         **************************/
        const CONFIG = {
            RTC: {
                iceServers: [
                    { urls: 'stun:stun.l.google.com:19302' },
                    { urls: 'stun:stun.cloudflare.com:3478' },
                    { urls: 'stun:stun.aliyun.com:3478' },
                    { urls: 'stun:stun.qq.com:3478' }
                ]
            },
            MEDIA: { audio: true, video: false }
        };

        /**************************
         * å…¨å±€å˜é‡
         **************************/
        let peerConn = null;
        let dataChannel = null;
        let localStream = null;
        let isConnected = false;
        let isCalling = false;

        /**************************
         * é¡µé¢åˆå§‹åŒ–
         **************************/
        window.onload = () => {
            updateStatus('æœªå»ºç«‹è¿æ¥ï¼Œé€‰æ‹©ã€Œç”Ÿæˆé‚€è¯·ç ã€æˆ–ã€Œç²˜è´´å¯¹æ–¹é‚€è¯·ç ã€');
            initFileInput();
        };

        /**************************
         * æ ¸å¿ƒ1ï¼šç”Ÿæˆé‚€è¯·ç ï¼ˆå‘èµ·æ–¹ï¼‰
         **************************/
        async function generateOffer() {
            // é‡ç½®æ—§è¿æ¥
            resetAll();

            updateStatus('æ­£åœ¨ç”Ÿæˆé‚€è¯·ç ...');
            // åˆ›å»ºWebRTCè¿æ¥
            peerConn = new RTCPeerConnection(CONFIG.RTC);
            // åˆ›å»ºæ•°æ®é€šé“
            createDataChannel();
            // ç›‘å¬ICEå€™é€‰
            peerConn.onicecandidate = (e) => {
                if (e.candidate) {
                    // ICEå€™é€‰æ”¶é›†å®Œæˆåï¼Œæ›´æ–°é‚€è¯·ç 
                    if (peerConn.localDescription) {
                        document.getElementById('offerCode').value = JSON.stringify(peerConn.localDescription);
                    }
                }
            };
            // ç›‘å¬è¿æ¥çŠ¶æ€
            peerConn.onconnectionstatechange = onConnStateChange;

            // åˆ›å»ºOfferï¼ˆé‚€è¯·ç æ ¸å¿ƒï¼‰
            const offer = await peerConn.createOffer();
            await peerConn.setLocalDescription(offer);

            // æ˜¾ç¤ºé‚€è¯·ç å¼¹çª—
            document.getElementById('offerCode').value = JSON.stringify(offer);
            document.getElementById('offerModal').classList.add('show');
            updateStatus('é‚€è¯·ç å·²ç”Ÿæˆï¼Œå‘ç»™å¯¹æ–¹åç­‰å¾…è¿æ¥');
        }

        /**************************
         * æ ¸å¿ƒ2ï¼šç²˜è´´é‚€è¯·ç ï¼ŒåŠ å…¥è¿æ¥ï¼ˆæ¥æ”¶æ–¹ï¼‰
         **************************/
        async function answerOffer() {
            const offerText = document.getElementById('offerInput').value.trim();
            if (!offerText) {
                alert('è¯·å…ˆç²˜è´´å¯¹æ–¹çš„é‚€è¯·ç ï¼');
                return;
            }

            // é‡ç½®æ—§è¿æ¥
            resetAll();

            try {
                const offer = JSON.parse(offerText);
                updateStatus('æ­£åœ¨å»ºç«‹è¿æ¥...');

                // åˆ›å»ºWebRTCè¿æ¥
                peerConn = new RTCPeerConnection(CONFIG.RTC);
                // åˆ›å»ºæ•°æ®é€šé“
                createDataChannel();
                // ç›‘å¬ICEå€™é€‰
                peerConn.onicecandidate = (e) => {
                    if (e.candidate && peerConn.localDescription) {
                        // æ— éœ€æ˜¾ç¤ºï¼Œè‡ªåŠ¨å®Œæˆè¿æ¥
                    }
                };
                // ç›‘å¬è¿æ¥çŠ¶æ€
                peerConn.onconnectionstatechange = onConnStateChange;

                // è®¾ç½®å¯¹æ–¹çš„Offer
                await peerConn.setRemoteDescription(new RTCSessionDescription(offer));
                // åˆ›å»ºAnswerå¹¶è®¾ç½®
                const answer = await peerConn.createAnswer();
                await peerConn.setLocalDescription(answer);

                updateStatus('æ­£åœ¨å®Œæˆè¿æ¥ï¼Œç¨å€™...');
            } catch (err) {
                alert('é‚€è¯·ç æ— æ•ˆï¼Œè¯·æ£€æŸ¥åé‡æ–°ç²˜è´´ï¼');
                updateStatus('é‚€è¯·ç æ— æ•ˆï¼Œé‡æ–°å°è¯•');
                console.error(err);
            }
        }

        /**************************
         * åˆ›å»ºæ•°æ®é€šé“ï¼ˆæ–‡å­—/å›¾ç‰‡/è§†é¢‘ä¼ è¾“ï¼‰
         **************************/
        function createDataChannel() {
            // å‘èµ·æ–¹åˆ›å»ºé€šé“ï¼Œæ¥æ”¶æ–¹ç›‘å¬é€šé“
            if (peerConn.createDataChannel) {
                dataChannel = peerConn.createDataChannel('chat', { ordered: true, maxRetransmits: 10 });
                initDataChannel();
            } else {
                peerConn.ondatachannel = (e) => {
                    dataChannel = e.channel;
                    initDataChannel();
                };
            }
        }

        /**************************
         * åˆå§‹åŒ–æ•°æ®é€šé“
         **************************/
        function initDataChannel() {
            // æ¥æ”¶æ¶ˆæ¯
            dataChannel.onmessage = (e) => {
                const msg = JSON.parse(e.data);
                addMessage(msg, 'other');
            };
            // é€šé“æ‰“å¼€
            dataChannel.onopen = () => {
                isConnected = true;
                updateStatus('è¿æ¥æˆåŠŸï¼å¯ä»¥èŠå¤©ã€å‘æ–‡ä»¶ã€é€šè¯');
                document.getElementById('callBtn').disabled = false;
                // å…³é—­é‚€è¯·ç å¼¹çª—
                document.getElementById('offerModal').classList.remove('show');
            };
            // é€šé“å…³é—­
            dataChannel.onclose = () => {
                if (isConnected) {
                    isConnected = false;
                    updateStatus('è¿æ¥å·²æ–­å¼€');
                    document.getElementById('callBtn').disabled = true;
                    if (isCalling) endCall();
                }
            };
        }

        /**************************
         * ç›‘å¬è¿æ¥çŠ¶æ€
         **************************/
        function onConnStateChange() {
            if (peerConn) {
                if (peerConn.connectionState === 'connected') {
                    isConnected = true;
                    updateStatus('è¿æ¥æˆåŠŸï¼å¯ä»¥èŠå¤©ã€å‘æ–‡ä»¶ã€é€šè¯');
                    document.getElementById('callBtn').disabled = false;
                } else if (peerConn.connectionState === 'disconnected' || peerConn.connectionState === 'failed') {
                    isConnected = false;
                    updateStatus('è¿æ¥å·²æ–­å¼€');
                    document.getElementById('callBtn').disabled = true;
                    if (isCalling) endCall();
                }
            }
        }

        /**************************
         * å‘é€æ–‡å­—æ¶ˆæ¯
         **************************/
        function sendMessage() {
            const input = document.getElementById('msgInput');
            const content = input.value.trim();
            if (!content || !isConnected || dataChannel.readyState !== 'open') {
                alert('è¯·å…ˆå»ºç«‹ç¨³å®šè¿æ¥ï¼Œæˆ–è¾“å…¥æœ‰æ•ˆæ¶ˆæ¯ï¼');
                return;
            }

            const msg = {
                type: 'text',
                content: content,
                time: getCurrentTime()
            };

            // ç«¯å¯¹ç«¯å‘é€
            dataChannel.send(JSON.stringify(msg));
            // æœ¬åœ°æ˜¾ç¤º
            addMessage(msg, 'self');
            // æ¸…ç©ºè¾“å…¥
            input.value = '';
        }

        /**************************
         * åˆå§‹åŒ–æ–‡ä»¶ä¸Šä¼ 
         **************************/
        function initFileInput() {
            document.getElementById('filePicker').addEventListener('change', (e) => {
                const file = e.target.files[0];
                if (!file || !isConnected || dataChannel.readyState !== 'open') {
                    alert('è¯·å…ˆå»ºç«‹ç¨³å®šè¿æ¥å†å‘é€æ–‡ä»¶ï¼');
                    e.target.value = '';
                    return;
                }

                if (!file.type.startsWith('image/') && !file.type.startsWith('video/')) {
                    alert('ä»…æ”¯æŒå›¾ç‰‡å’Œè§†é¢‘æ–‡ä»¶ï¼');
                    e.target.value = '';
                    return;
                }

                // è¯»å–æ–‡ä»¶ä¸ºBase64
                const reader = new FileReader();
                reader.onload = (e) => {
                    const msg = {
                        type: file.type.startsWith('image/') ? 'image' : 'video',
                        data: e.target.result,
                        name: file.name,
                        time: getCurrentTime()
                    };
                    dataChannel.send(JSON.stringify(msg));
                    addMessage(msg, 'self');
                };
                reader.readAsDataURL(file);
                e.target.value = '';
            });
        }

        /**************************
         * è¯­éŸ³é€šè¯
         **************************/
        async function startCall() {
            if (!isConnected) {
                alert('è¯·å…ˆå»ºç«‹è¿æ¥ï¼');
                return;
            }

            isCalling = true;
            document.getElementById('callModal').classList.add('show');

            try {
                // è·å–éº¦å…‹é£æƒé™
                localStream = await navigator.mediaDevices.getUserMedia(CONFIG.MEDIA);
                // å°†éŸ³é¢‘æµæ·»åŠ åˆ°WebRTC
                localStream.getTracks().forEach(track => {
                    peerConn.addTrack(track, localStream);
                });
                // æ¥æ”¶å¯¹æ–¹éŸ³é¢‘æµ
                peerConn.ontrack = (e) => {
                    if (e.streams && e.streams[0] && isCalling) {
                        // æµè§ˆå™¨è‡ªåŠ¨å¤„ç†éŸ³é¢‘æ’­æ”¾
                    }
                };
            } catch (err) {
                alert('éº¦å…‹é£æƒé™è¢«æ‹’ç»ï¼Œè¯·åœ¨æµè§ˆå™¨è®¾ç½®ä¸­å…è®¸ï¼');
                endCall();
                console.error(err);
            }
        }

        /**************************
         * ç»“æŸé€šè¯
         **************************/
        function endCall() {
            isCalling = false;
            document.getElementById('callModal').classList.remove('show');
            if (localStream) {
                localStream.getTracks().forEach(track => track.stop());
                localStream = null;
            }
        }

        /**************************
         * æ·»åŠ æ¶ˆæ¯åˆ°èŠå¤©çª—å£
         **************************/
        function addMessage(msg, side) {
            const messagesEl = document.getElementById('messages');
            const msgEl = document.createElement('div');
            msgEl.className = `msg msg-${side}`;

            let content = '';
            if (msg.type === 'text') {
                content = `<div class="msg-content">${msg.content}</div>`;
            } else if (msg.type === 'image') {
                content = `<div class="media"><img src="${msg.data}" class="media-img" alt="${msg.name}"></div>`;
            } else if (msg.type === 'video') {
                content = `<div class="media"><video src="${msg.data}" class="media-video" controls></video></div>`;
            }

            msgEl.innerHTML = `${content}<div class="msg-time">${msg.time}</div>`;
            messagesEl.appendChild(msgEl);
            // æ»šåŠ¨åˆ°åº•éƒ¨
            messagesEl.scrollTop = messagesEl.scrollHeight;
        }

        /**************************
         * å·¥å…·æ–¹æ³•
         **************************/
        // æ›´æ–°çŠ¶æ€
        function updateStatus(text) {
            document.getElementById('status').textContent = text;
        }

        // è·å–å½“å‰æ—¶é—´
        function getCurrentTime() {
            return new Date().toLocaleTimeString('zh-CN', {
                hour: '2-digit',
                minute: '2-digit',
                hour12: false
            });
        }

        // å¤åˆ¶é‚€è¯·ç 
        function copyOffer() {
            const offerText = document.getElementById('offerCode').value;
            navigator.clipboard.writeText(offerText).then(() => {
                alert('é‚€è¯·ç å·²å¤åˆ¶ï¼Œå‘ç»™å¯¹æ–¹å³å¯ï¼');
            }).catch(() => {
                alert('å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶ï¼');
            });
        }

        // é‡ç½®æ‰€æœ‰è¿æ¥
        function resetAll() {
            // å…³é—­è¿æ¥
            if (peerConn) peerConn.close();
            if (dataChannel) dataChannel.close();
            if (localStream) localStream.getTracks().forEach(t => t.stop());
            // æ¸…ç©ºçŠ¶æ€
            isConnected = false;
            isCalling = false;
            peerConn = null;
            dataChannel = null;
            localStream = null;
            // æ¸…ç©ºè¾“å…¥
            document.getElementById('offerInput').value = '';
            document.getElementById('msgInput').value = '';
            // å…³é—­å¼¹çª—
            document.getElementById('offerModal').classList.remove('show');
            document.getElementById('callModal').classList.remove('show');
            // æ›´æ–°çŠ¶æ€
            updateStatus('å·²é‡ç½®ï¼Œé‡æ–°é€‰æ‹©ã€Œç”Ÿæˆé‚€è¯·ç ã€æˆ–ã€Œç²˜è´´å¯¹æ–¹é‚€è¯·ç ã€');
            document.getElementById('callBtn').disabled = true;
        }
    </script>
</body>
</html>
